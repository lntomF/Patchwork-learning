# 学习嵌入式时的一些名词和思考（应对面试的拷打）

## 冯诺依曼结构和哈佛结构
>![冯诺依曼结构示意图](/Embedded/photo/冯诺依曼结构.png)

>![哈佛结构示意图](/Embedded/photo/哈佛结构.png)

1.**非侵入式调试和侵入式调试**
- 侵入式调试：需要暂停CPU内核，通过调试接口（SWD/ JTAG）和系统总线（AHB）来访问和修改内存，外设等资源的状态。
    常见的侵入式调试工具有：J-Link、ST-Link等。
    手段包括单步执行、断点设置、变量监视等。
- 非侵入式调试：无需暂停 CPU 内核，通过一个独立的、专用的硬件模块来监视系统的运行。
    常见手段：串口打印、ITM、DWT 等。
    ITM：这是 Cortex-M 内核一个非常强大的非侵入式调试工具。
    它通过一个叫做 SWO? 的引脚，在程序运行时“偷”出数据（如 printf信息、变量值），而 CPU 完全不受影响。
    DWT：另一个内核组件，可以用于非侵入性地监控性能（如指令周期计数器）、设置数据观察点（当某个地址被访问时触发事件，但不暂停程序）。

2.**关于STM32的启动模式和程序运行**
- STM32的启动模式主要有两种：从系统存储器（SRAM）启动和从用户闪存（FLASH）启动。
    从 Flash 启动：这是最常见的模式。CPU 复位后，从 Flash 存储器的起始地址（通常是 0x0800 0000）取出栈顶指针，然后从下一个地址取出复位向量（程序开始执行的地址），并开始执行程序。
    从 SRAM 启动：CPU 复位后，将 SRAM 的起始地址（通常是 0x2000 0000）映射到 0x0000 0000，然后从这个地址
    开始执行。这种模式通常用于：
    1.快速调试：将程序下载到 SRAM 运行，速度极快，避免反复擦写 Flash。
    2.在需要从 Flash 加载程序到 RAM 再执行的场景（如 bootloader）。
- STM32的程序运行在Flash还是SRAM中？
    STM32 的程序代码通常存储在 Flash 存储器中，因为 Flash 是非易失性存储器，断电后数据不会丢失。
    但是，程序运行时，某些关键数据（如堆栈、全局变量等）会被加载到 SRAM 中，以提高访问速度和性能。
    因此，程序代码主要在 Flash 中，而运行时数据主要在 SRAM 中。

3.**FALSH Loader的概念和作用**
- FLASH Loader是一个存储在单片机内部引导存储器中的一段小程序。
- 作用：与上位机通信，接收发送过来的新程序数据，并将其烧录到主Flash存储器的指定位置。

4.**NOR Flash和NAND Flash的区别（非易失闪存技术）**
![nor flash 和 nand flash的对比](/Embedded/photo/Nor%20flash%20和Nand%20flash.png)
XIP? 是 eXecute In Place? 的缩写，意为“就地执行”。这是 NOR Flash 最关键的特性，指 CPU 可以直接在 Flash 上取指令运行，而无需将代码先复制到 RAM 中。
Nor flash 支持XIP所以CPU可以直接在上面运行代码
Nand flash 必须先拷贝到RAM中才能运行


